# Production Environment Configuration
# This should be managed via Azure Key Vault or CI/CD secrets

# Environment
NODE_ENV="production"
ENV="production"

# Database (Use Azure PostgreSQL connection string)
DATABASE_URL="postgresql://username:password@server.postgres.database.azure.com:5432/safee_prod?sslmode=require"
DATABASE_CONNECTION_LIMIT=20

# Redis (Use Azure Cache for Redis)
REDIS_URL="rediss://cache-name.redis.cache.windows.net:6380"

# JWT & Security (Generate secure secrets)
JWT_SECRET="GENERATE-A-SECURE-256-BIT-SECRET-FOR-PRODUCTION"
JWT_EXPIRES_IN="24h"
COOKIE_KEY="GENERATE-A-SECURE-256-BIT-COOKIE-KEY-FOR-PRODUCTION"
API_SECRET_KEY="GENERATE-A-SECURE-API-SECRET-KEY-FOR-PRODUCTION"

# Server Configuration
PORT=443
HOST="0.0.0.0"

# CORS (Set to your production domain)
CORS_ORIGIN="https://app.safee.com"
DASHBOARD_BASE_URL="https://app.safee.com/"

# Better Auth Configuration
REQUIRE_EMAIL_VERIFICATION=true
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
COOKIE_DOMAIN=".safee.com"

# Email Configuration (Resend)
RESEND_API_KEY="RESEND-API-KEY-FROM-RESEND-DASHBOARD"
EMAIL_FROM_ADDRESS="noreply@safee.com"
EMAIL_FROM_NAME="Safee Analytics"
EMAIL_REPLY_TO="support@safee.com"

# Logging (Reduced verbosity for production)
LOG_LEVEL="info"
SQL_LOG_LEVEL="warn"

# Azure Storage
USE_CLOUD_STORAGE=true
AZURE_STORAGE_ACCOUNT_NAME="safeeprodstg"
AZURE_STORAGE_ACCOUNT_KEY="AZURE-STORAGE-ACCOUNT-KEY-FROM-KEY-VAULT"
FILE_UPLOAD_BUCKET="prod-safee-private-storage"
FILE_UPLOAD_PATH="uploads"

# Azure Application Insights
APPLICATION_INSIGHTS_CONNECTION_STRING="AZURE-APP-INSIGHTS-CONNECTION-STRING"
APPLICATION_INSIGHTS_INSTRUMENTATION_KEY="AZURE-APP-INSIGHTS-INSTRUMENTATION-KEY"

# Security Headers
ENABLE_HELMET=true
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # requests per window

# Azure Key Vault (for secrets management)
AZURE_KEY_VAULT_URL="https://safee-prod-kv.vault.azure.net/"
AZURE_CLIENT_ID="AZURE-SERVICE-PRINCIPAL-CLIENT-ID"
AZURE_CLIENT_SECRET="AZURE-SERVICE-PRINCIPAL-CLIENT-SECRET"
AZURE_TENANT_ID="AZURE-TENANT-ID"