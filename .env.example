# ==============================================
# Safee Analytics - Root Environment Variables
# ==============================================
# This file is shared across all services (gateway, database, jobs)
# Copy this to .env and fill in your values

# ==============================================
# Database Configuration
# ==============================================
DATABASE_URL=postgresql://safee:safee@localhost:15432/safee
DEV_DB_URL=

# Test Database Configuration
TEST_DATABASE_URL=postgresql://safee:safee@localhost:25432/safee_test

# ==============================================
# Redis Configuration
# ==============================================
REDIS_URL=redis://localhost:16379

# ==============================================
# Odoo Configuration
# ==============================================
# Shared Odoo instance URL - all organizations connect to this
ODOO_URL=http://localhost:8069
#
# NOTE: Per-organization Odoo configurations are stored in the database:
#   - Odoo database name (unique per org)
#   - Odoo admin credentials (unique per org)
#   - User provisioning (each Safee user gets an Odoo user)
# These are managed through the organization settings, not environment variables.

# Odoo Webhook Configuration (for safee_webhooks Odoo module)
# Used during database provisioning to configure webhook integration
# REQUIRED: Generate secret with: openssl rand -hex 32
ODOO_WEBHOOK_URL=http://localhost:3000/api/v1
ODOO_WEBHOOK_SECRET=your-webhook-secret-change-in-production
ODOO_WEBHOOKS_ENABLED=false

# ==============================================
# Server Configuration
# ==============================================
HOST=localhost
PORT=3000
NODE_ENV=development

# ==============================================
# Security - Session & Cookies
# ==============================================
# REQUIRED: Generate with: openssl rand -base64 32
COOKIE_KEY=your-super-secret-cookie-key-change-this-in-production-min-32-chars

# Optional: API key for server-to-server auth
API_SECRET_KEY=

# ==============================================
# CORS Configuration
# ==============================================
# Frontend URL for CORS (use Caddy port in production)
CORS_ORIGIN=http://localhost:3001
FRONTEND_URL=http://localhost:3001

# ==============================================
# Better Auth Configuration
# ==============================================
# Google OAuth (Optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth (Optional)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Cookie domain for production (enables cross-subdomain cookies)
# Example: .safee.analytics (note the leading dot)
COOKIE_DOMAIN=

# ==============================================
# Logging
# ==============================================
LOG_LEVEL=info
SAFEE_LOG=info
SQL_LOG_LEVEL=warn

# ==============================================
# Development Options
# ==============================================
DEBUG=false
IS_RELOAD=false
WATCH=false
